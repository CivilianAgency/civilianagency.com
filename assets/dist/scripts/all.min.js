function shuffle(t){for(var e,i,n=t.length;n;)i=Math.floor(Math.random()*n--),e=t[n],t[n]=t[i],t[i]=e;return t}function animateMe(t){t.addClass("animated")}function scrollSpy(t){$("ul.nav-ul-desktop a").removeClass("active"),$("ul.nav-ul-desktop").find('a[href="#'+t+'"]').addClass("active")}var map_styles=[{featureType:"all",elementType:"all",stylers:[{lightness:"50"},{gamma:"1.00"}]},{featureType:"all",elementType:"labels",stylers:[{gamma:.26},{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"},{lightness:-50}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{lightness:20}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"},{lightness:"1"},{gamma:"1"},{saturation:"0"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text",stylers:[{color:"#c8c8c8"},{lightness:"-15"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{featureType:"poi.business",elementType:"all",stylers:[{lightness:"75"},{gamma:"1"}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text",stylers:[{color:"#c8c8c8"},{lightness:"-5"},{gamma:"1.00"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{lightness:50},{hue:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"off"},{lightness:"50"}]},{featureType:"water",elementType:"all",stylers:[{color:"#58afc2"},{lightness:"50"},{gamma:"1.00"}]}],client_location=new google.maps.LatLng(41.890611,(-87.624716)),map=new google.maps.Map(document.getElementById("google-map"),{center:{lat:41.8925,lng:-87.624716},zoom:16,styles:map_styles,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,keyboardShortcuts:!1,scrollwheel:!1}),marker_image={url:"assets/images/map_marker.png",scaledSize:new google.maps.Size(35,35)},marker=new google.maps.Marker({position:client_location,map:map,icon:marker_image});google.maps.event.addListener(marker,"click",function(){window.open("https://www.google.com/maps/place/444+N+Michigan+Ave,+Chicago,+IL+60611/data=!4m2!3m1!1s0x880e2cac24f11229:0x2afc2357830fea2d?sa=X&ei=M3jiVNO9NczjsATa1ILQBg&ved=0CCQQ8gEwAQ","_blank")});var infoWindow=new google.maps.InfoWindow({content:'<div style="text-align:left; line-height: 20px;"><span style="font-weight:bold;">Civilian</span><br>444 North Michigan Avenue <br>33rd Floor Chicago, IL 60611 <br>312.822.1100</div>'});google.maps.event.addListener(marker,"mouseover",function(){infoWindow.open(map,marker)}),google.maps.event.addListener(marker,"mouseout",function(){infoWindow.close()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=function(e,i){function n(e,i){this.defaults={slideDuration:"3000",speed:500,arrowRight:".arrow-right",arrowLeft:".arrow-left"},this.settings=t.extend({},this,this.defaults,i),this.initials={currSlide:0,$currSlide:null,totalSlides:!1,csstransitions:!1},t.extend(this,this.initials),this.$el=t(e),this.changeSlide=t.proxy(this.changeSlide,this),this.init(),this.instanceUid=o++}var o=0;return n}();e.prototype.init=function(){this.csstransitionsTest(),this.$el.addClass("zippy-carousel"),this.build(),this.events(),this.activate(),this.initTimer()},e.prototype.csstransitionsTest=function(){var t=document.createElement("modernizr"),e=["transition","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in e){var n=e[i],o=void 0!==t.style[n]&&n;if(o){this.csstransitions=o;break}}},e.prototype.addCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=t.settings.speed+"ms"})},e.prototype.removeCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=""})},e.prototype.build=function(){var t=this.$el.append('<ul class="indicators" >').find(".indicators");this.totalSlides=this.$el.find(".slide").length;for(var e=0;e<this.totalSlides;e++)t.append("<li data-index="+e+">")},e.prototype.activate=function(){this.$currSlide=this.$el.find(".slide").eq(0),this.$el.find(".indicators li").eq(0).addClass("active")},e.prototype.events=function(){t("body").on("click",this.settings.arrowRight,{direction:"right"},this.changeSlide).on("click",this.settings.arrowLeft,{direction:"left"},this.changeSlide).on("click",".indicators li",this.changeSlide)},e.prototype.clearTimer=function(){this.timer&&clearInterval(this.timer)},e.prototype.initTimer=function(){this.timer=setInterval(this.changeSlide,this.settings.slideDuration)},e.prototype.startTimer=function(){this.initTimer(),this.throttle=!1},e.prototype.changeSlide=function(t){if(!this.throttle){this.throttle=!0,this.clearTimer();var e=this._direction(t),i=this._next(t,e);if(i){var n=this.$el.find(".slide").eq(this.currSlide).addClass(e+" active");this.csstransitions?this._cssAnimation(n,e):this._jsAnimation(n,e)}}},e.prototype._direction=function(t){var e;return e="undefined"!=typeof t?"undefined"==typeof t.data?"right":t.data.direction:"right"},e.prototype._next=function(e,i){var n="undefined"!=typeof e?t(e.currentTarget).data("index"):void 0;switch(!0){case"undefined"!=typeof n:if(this.currSlide==n)return this.startTimer(),!1;this.currSlide=n;break;case"right"==i&&this.currSlide<this.totalSlides-1:this.currSlide++;break;case"right"==i:this.currSlide=0;break;case"left"==i&&0===this.currSlide:this.currSlide=this.totalSlides-1;break;case"left"==i:this.currSlide--}return!0},e.prototype._cssAnimation=function(t,e){setTimeout(function(){this.$el.addClass("transition"),this.addCSSDuration(),this.$currSlide.addClass("shift-"+e)}.bind(this),100),setTimeout(function(){this.$el.removeClass("transition"),this.removeCSSDuration(),this.$currSlide.removeClass("active shift-left shift-right"),this.$currSlide=t.removeClass(e),this._updateIndicators(),this.startTimer()}.bind(this),100+this.settings.speed)},e.prototype._jsAnimation=function(t,e){var i=this;"right"==e&&i.$currSlide.addClass("js-reset-left");var n={};n[e]="0%";var o={};o[e]="100%",this.$currSlide.animate(o,this.settings.speed),t.animate(n,this.settings.speed,"swing",function(){i.$currSlide.removeClass("active js-reset-left").attr("style",""),i.$currSlide=t.removeClass(e).attr("style",""),i._updateIndicators(),i.startTimer()})},e.prototype._updateIndicators=function(){this.$el.find(".indicators li").removeClass("active").eq(this.currSlide).addClass("active")},t.fn.Zippy=function(t){return this.each(function(i,n){n.Zippy=new e(n,t)})}});var args={arrowRight:".arrow-right",arrowLeft:".arrow-left",speed:1e3,slideDuration:9e3};$(".carousel").Zippy(args);var shuffler=function(){var t;return{start:function(){t=setInterval(function(){var t=$(".flip");$(shuffle(t).slice(0,2)).fadeIn().delay(6e3).fadeOut()},4e3)},stop:function(){clearInterval(t)}}}();$(function(){$("a.reel-button").colorbox({iframe:!0,width:"1600",height:"900",maxWidth:"80%",maxHeight:"80%",close:"X"}),$("ul.cards li").click(function(){var t=300,e=$(this).find(".bigshow"),i=$(this);$(this).siblings().removeClass("open"),$(this).hasClass("open")?($(this).find(".bigshow").removeClass("active"),setTimeout(function(){i.removeClass("open")},t),shuffler.start()):($(this).addClass("open"),setTimeout(function(){e.addClass("active")},t),shuffler.stop())});var t=400,e=(new Waypoint({element:$(".our-people"),handler:function(t){"down"===t&&scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-people"),handler:function(t){"up"===t&&$("ul.nav-ul-desktop a").removeClass("active")},offset:t*-2}),new Waypoint({element:$(".our-space"),handler:function(t){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-work"),handler:function(t){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-clients"),handler:function(t){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-things"),handler:function(t){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".contact-us"),handler:function(t){scrollSpy(this.element.attr("id"))},offset:t}),500);new Waypoint({element:$("#red-section-01 .headline-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$("#red-section-02 .headline-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$("#red-section-03 .headline-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$("#red-section-04 .headline-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy1.guy-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy2.guy-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy3.guy-anim"),handler:function(t){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy4.guy-anim"),handler:function(t){animateMe(this.element)},offset:e});$(".our-space .carousel, .our-work").css("height",$(window).height()),$(".menu-btn").click(function(){$(".responsive-menu").toggleClass("expand",1e3,"easeOutCirc"),$(".nav-li-mobile").toggleClass("expand",1e3,"easeOutCirc")}),$(".nav-li-mobile a").click(function(){$(".responsive-menu").toggleClass("expand",1e3,"easeOutCirc"),$(".nav-li-mobile").toggleClass("expand",1e3,"easeOutCirc")}),$(".arrow").on("click",function(){$("#space-text").animate({opacity:0})}),$("header a").click(function(t){t.preventDefault();var e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).position().top})}),shuffler.start()}),function(t,e,i){function n(i,n,o){var r=e.createElement(i);return n&&(r.id=Y+n),o&&(r.style.cssText=o),t(r)}function o(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr("data-cbox-"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==V[e]&&(this.cache[e]=V[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function s(t){var e=$.length,i=(F+t)%e;return i<0?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?W.width():o())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function h(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in v[0]&&!v[0].contains(t.target)&&t.target!==w[0]&&(t.stopPropagation(),v.focus())}function c(t){c.str!==t&&(v.add(w).removeClass(c.str).addClass(t),c.str=t)}function u(e){F=0,e&&e!==!1&&"nofollow"!==e?($=t("."+tt).filter(function(){var i=t.data(this,J),n=new r(this,i);return n.get("rel")===e}),F=$.index(R.el),F===-1&&($=$.add(R.el),F=$.length-1)):$=t(R.el)}function p(i){t(e).trigger(i),at.triggerHandler(i)}function f(i){var o;if(!Z){if(o=t(i).data(J),R=new r(i,o),u(R.get("rel")),!K){K=N=!0,c(R.get("className")),v.css({visibility:"hidden",display:"block",opacity:""}),A=n(lt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(A),j=T.height()+k.height()+b.outerHeight(!0)-b.height(),D=S.width()+C.width()+b.outerWidth(!0)-b.width(),q=A.outerHeight(!0),Q=A.outerWidth(!0);var s=a(R.get("initialWidth"),"x"),l=a(R.get("initialHeight"),"y"),h=R.get("maxWidth"),f=R.get("maxHeight");R.w=(h!==!1?Math.min(s,a(h,"x")):s)-Q-D,R.h=(f!==!1?Math.min(l,a(f,"y")):l)-q-j,A.css({width:"",height:R.h}),G.position(),p(et),R.get("onOpen"),P.add(E).hide(),v.focus(),R.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),at.one(rt,function(){e.removeEventListener("focus",d,!0)})),R.get("returnFocus")&&at.one(rt,function(){t(R.el).focus()})}var g=parseFloat(R.get("opacity"));w.css({opacity:g===g?g:"",cursor:R.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),R.get("closeButton")?I.html(R.get("close")).appendTo(b):I.appendTo("<div/>"),y()}}function g(){v||(X=!1,W=t(i),v=n(lt).attr({id:J,"class":t.support.opacity===!1?Y+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=n(lt,"Overlay").hide(),z=t([n(lt,"LoadingOverlay")[0],n(lt,"LoadingGraphic")[0]]),x=n(lt,"Wrapper"),b=n(lt,"Content").append(E=n(lt,"Title"),M=n(lt,"Current"),O=t('<button type="button"/>').attr({id:Y+"Previous"}),_=t('<button type="button"/>').attr({id:Y+"Next"}),L=n("button","Slideshow"),z),I=t('<button type="button"/>').attr({id:Y+"Close"}),x.append(n(lt).append(n(lt,"TopLeft"),T=n(lt,"TopCenter"),n(lt,"TopRight")),n(lt,!1,"clear:left").append(S=n(lt,"MiddleLeft"),b,C=n(lt,"MiddleRight")),n(lt,!1,"clear:left").append(n(lt,"BottomLeft"),k=n(lt,"BottomCenter"),n(lt,"BottomRight"))).find("div div").css({"float":"left"}),H=n(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),P=_.add(O).add(M).add(L)),e.body&&!v.parent().length&&t(e.body).append(w,v.append(x,H))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!v&&(X||(X=!0,_.click(function(){G.next()}),O.click(function(){G.prev()}),I.click(function(){G.close()}),w.click(function(){R.get("overlayClose")&&G.close()}),t(e).bind("keydown."+Y,function(t){var e=t.keyCode;K&&R.get("escKey")&&27===e&&(t.preventDefault(),G.close()),K&&R.get("arrowKey")&&$[1]&&!t.altKey&&(37===e?(t.preventDefault(),O.click()):39===e&&(t.preventDefault(),_.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Y,"."+tt,i):t("."+tt).live("click."+Y,i)),!0)}function y(){var e,o,r,s=G.prep,d=++ht;if(N=!0,B=!1,p(st),p(it),R.get("onLoad"),R.h=R.get("height")?a(R.get("height"),"y")-q-j:R.get("innerHeight")&&a(R.get("innerHeight"),"y"),R.w=R.get("width")?a(R.get("width"),"x")-Q-D:R.get("innerWidth")&&a(R.get("innerWidth"),"x"),R.mw=R.w,R.mh=R.h,R.get("maxWidth")&&(R.mw=a(R.get("maxWidth"),"x")-Q-D,R.mw=R.w&&R.w<R.mw?R.w:R.mw),R.get("maxHeight")&&(R.mh=a(R.get("maxHeight"),"y")-q-j,R.mh=R.h&&R.h<R.mh?R.h:R.mh),e=R.get("href"),U=setTimeout(function(){z.show()},100),R.get("inline")){var c=t(e);r=t("<div>").hide().insertBefore(c),at.one(st,function(){r.replaceWith(c)}),s(c)}else R.get("iframe")?s(" "):R.get("html")?s(R.get("html")):l(R,e)?(e=h(R,e),B=new Image,t(B).addClass(Y+"Photo").bind("error",function(){s(n(lt,"Error").html(R.get("imgError")))}).one("load",function(){d===ht&&setTimeout(function(){var e;t.each(["alt","longdesc","aria-describedby"],function(e,i){var n=t(R.el).attr(i)||t(R.el).attr("data-"+i);n&&B.setAttribute(i,n)}),R.get("retinaImage")&&i.devicePixelRatio>1&&(B.height=B.height/i.devicePixelRatio,B.width=B.width/i.devicePixelRatio),R.get("scalePhotos")&&(o=function(){B.height-=B.height*e,B.width-=B.width*e},R.mw&&B.width>R.mw&&(e=(B.width-R.mw)/B.width,o()),R.mh&&B.height>R.mh&&(e=(B.height-R.mh)/B.height,o())),R.h&&(B.style.marginTop=Math.max(R.mh-B.height,0)/2+"px"),$[1]&&(R.get("loop")||$[F+1])&&(B.style.cursor="pointer",B.onclick=function(){G.next()}),B.style.width=B.width+"px",B.style.height=B.height+"px",s(B)},1)}),B.src=e):e&&H.load(e,R.get("data"),function(e,i){d===ht&&s("error"===i?n(lt,"Error").html(R.get("xhrError")):t(this).contents())})}var w,v,x,b,T,S,C,k,$,W,A,H,z,E,M,L,_,O,I,P,R,j,D,q,Q,F,B,K,N,Z,U,G,X,V={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},J="colorbox",Y="cbox",tt=Y+"Element",et=Y+"_open",it=Y+"_load",nt=Y+"_complete",ot=Y+"_cleanup",rt=Y+"_closed",st=Y+"_purge",at=t("<a/>"),lt="div",ht=0,dt={},ct=function(){function t(){clearTimeout(s)}function e(){(R.get("loop")||$[F+1])&&(t(),s=setTimeout(G.next,R.get("slideshowSpeed")))}function i(){L.html(R.get("slideshowStop")).unbind(l).one(l,n),at.bind(nt,e).bind(it,t),v.removeClass(a+"off").addClass(a+"on")}function n(){t(),at.unbind(nt,e).unbind(it,t),L.html(R.get("slideshowStart")).unbind(l).one(l,function(){G.next(),i()}),v.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,L.hide(),t(),at.unbind(nt,e).unbind(it,t),v.removeClass(a+"off "+a+"on")}var r,s,a=Y+"Slideshow_",l="click."+Y;return function(){r?R.get("slideshow")||(at.unbind(ot,o),o()):R.get("slideshow")&&$[1]&&(r=!0,at.one(ot,o),R.get("slideshowAuto")?i():n(),L.show())}}();t[J]||(t(g),G=t.fn[J]=t[J]=function(e,i){var n,o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(g(),m()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,J)||{};t.data(this,J,t.extend(i,e))}).addClass(tt),n=new r(o[0],e),n.get("open")&&f(o[0])),o):o},G.position=function(e,i){function n(){T[0].style.width=k[0].style.width=b[0].style.width=parseInt(v[0].style.width,10)-D+"px",b[0].style.height=S[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-j+"px"}var r,s,l,h=0,d=0,c=v.offset();if(W.unbind("resize."+Y),v.css({top:-9e4,left:-9e4}),s=W.scrollTop(),l=W.scrollLeft(),R.get("fixed")?(c.top-=s,c.left-=l,v.css({position:"fixed"})):(h=s,d=l,v.css({position:"absolute"})),d+=R.get("right")!==!1?Math.max(W.width()-R.w-Q-D-a(R.get("right"),"x"),0):R.get("left")!==!1?a(R.get("left"),"x"):Math.round(Math.max(W.width()-R.w-Q-D,0)/2),h+=R.get("bottom")!==!1?Math.max(o()-R.h-q-j-a(R.get("bottom"),"y"),0):R.get("top")!==!1?a(R.get("top"),"y"):Math.round(Math.max(o()-R.h-q-j,0)/2),v.css({top:c.top,left:c.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",r={width:R.w+Q+D,height:R.h+q+j,top:h,left:d},e){var u=0;t.each(r,function(t){if(r[t]!==dt[t])return void(u=e)}),e=u}dt=r,e||v.css(r),v.dequeue().animate(r,{duration:e||0,complete:function(){n(),N=!1,x[0].style.width=R.w+Q+D+"px",x[0].style.height=R.h+q+j+"px",R.get("reposition")&&setTimeout(function(){W.bind("resize."+Y,G.position)},1),t.isFunction(i)&&i()},step:n})},G.resize=function(t){var e;K&&(t=t||{},t.width&&(R.w=a(t.width,"x")-Q-D),t.innerWidth&&(R.w=a(t.innerWidth,"x")),A.css({width:R.w}),t.height&&(R.h=a(t.height,"y")-q-j),t.innerHeight&&(R.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=A.scrollTop(),A.css({height:"auto"}),R.h=A.height()),A.css({height:R.h}),e&&A.scrollTop(e),G.position("none"===R.get("transition")?0:R.get("speed")))},G.prep=function(i){function o(){return R.w=R.w||A.width(),R.w=R.mw&&R.mw<R.w?R.mw:R.w,R.w}function a(){return R.h=R.h||A.height(),R.h=R.mh&&R.mh<R.h?R.mh:R.h,R.h}if(K){var d,u="none"===R.get("transition")?0:R.get("speed");A.remove(),A=n(lt,"LoadedContent").append(i),A.hide().appendTo(H.show()).css({width:o(),overflow:R.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(b),H.hide(),t(B).css({"float":"none"}),c(R.get("className")),d=function(){function i(){t.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,o,a=$.length;K&&(o=function(){clearTimeout(U),z.hide(),p(nt),R.get("onComplete")},E.html(R.get("title")).show(),A.show(),a>1?("string"==typeof R.get("current")&&M.html(R.get("current").replace("{current}",F+1).replace("{total}",a)).show(),_[R.get("loop")||F<a-1?"show":"hide"]().html(R.get("next")),O[R.get("loop")||F?"show":"hide"]().html(R.get("previous")),ct(),R.get("preloading")&&t.each([s(-1),s(1)],function(){var i,n=$[this],o=new r(n,t.data(n,J)),s=o.get("href");s&&l(o,s)&&(s=h(o,s),i=e.createElement("img"),i.src=s)})):P.hide(),R.get("iframe")?(n=e.createElement("iframe"),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),R.get("scrolling")||(n.scrolling="no"),t(n).attr({src:R.get("href"),name:(new Date).getTime(),"class":Y+"Iframe",allowFullScreen:!0}).one("load",o).appendTo(A),at.one(st,function(){n.src="//about:blank"}),R.get("fastIframe")&&t(n).trigger("load")):o(),"fade"===R.get("transition")?v.fadeTo(u,1,i):i())},"fade"===R.get("transition")?v.fadeTo(u,0,function(){G.position(0,d)}):G.position(u,d)}},G.next=function(){!N&&$[1]&&(R.get("loop")||$[F+1])&&(F=s(1),f($[F]))},G.prev=function(){!N&&$[1]&&(R.get("loop")||F)&&(F=s(-1),f($[F]))},G.close=function(){K&&!Z&&(Z=!0,K=!1,p(ot),R.get("onCleanup"),W.unbind("."+Y),w.fadeTo(R.get("fadeOut")||0,0),v.stop().fadeTo(R.get("fadeOut")||0,0,function(){v.hide(),w.hide(),p(st),A.remove(),setTimeout(function(){Z=!1,p(rt),R.get("onClosed")},1)}))},G.remove=function(){v&&(v.stop(),t[J].close(),v.stop(!1,!0).remove(),w.remove(),Z=!1,v=null,t("."+tt).removeData(J).removeClass(tt),t(e).unbind("click."+Y).unbind("keydown."+Y))},G.element=function(){return t(R.el)},G.settings=V)}(jQuery,document,window),function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.destroyAll=function(){var t=[];for(var e in i)t.push(i[e]);for(var n=0,o=t.length;n<o;n++)t[n].destroy()},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,r(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){e.didScroll&&!o.isTouch||(e.didScroll=!0,r(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=n.oldScroll<a.triggerPoint,h=n.newScroll>=a.triggerPoint,d=l&&h,c=!l&&!h;(d||c)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element===this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element===this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;n<o;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element===this.element.window,i=this.adapter.offset(),n={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in t){var r=t[o];for(var s in this.waypoints[o]){var a,l,h,d,c,u=this.waypoints[o][s],p=u.options.offset,f=u.triggerPoint,g=0,m=null==f;u.element!==u.element.window&&(g=u.adapter.offset()[r.offsetProp]),"function"==typeof p?p=p.apply(u):"string"==typeof p&&(p=parseFloat(p),u.options.offset.indexOf("%")>-1&&(p=Math.ceil(r.contextDimension*p/100))),a=r.contextScroll-r.contextOffset,u.triggerPoint=g+a-p,l=f<r.oldScroll,h=u.triggerPoint>=r.oldScroll,d=l&&h,c=!l&&!h,!m&&d?(u.queueTrigger(r.backward),n[u.group.id]=u.group):!m&&c?(u.queueTrigger(r.forward),n[u.group.id]=u.group):m&&r.oldScroll>=u.triggerPoint&&(u.queueTrigger(r.forward),n[u.group.id]=u.group)}}for(var y in n)n[y].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?e:t);for(var r=0,s=n.length;r<s;r+=1){var a=n[r];(a.options.continuous||r===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,n){t[n]=e[n]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&(n=t.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var o=t.extend({},n,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),i.push(new e(o))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();