function shuffle(t){for(var e,i,n=t.length;n;)i=Math.floor(Math.random()*n--),e=t[n],t[n]=t[i],t[i]=e;return t}function animateMe(t){t.addClass("animated")}function scrollSpy(t){$("ul.nav-ul-desktop a").removeClass("active"),$("ul.nav-ul-desktop").find('a[href="#'+t+'"]').addClass("active")}var map_styles=[{featureType:"all",elementType:"all",stylers:[{lightness:"50"},{gamma:"1.00"}]},{featureType:"all",elementType:"labels",stylers:[{gamma:.26},{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"},{lightness:-50}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{lightness:20}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"},{lightness:"1"},{gamma:"1"},{saturation:"0"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text",stylers:[{color:"#c8c8c8"},{lightness:"-15"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"simplified"}]},{featureType:"poi.business",elementType:"all",stylers:[{lightness:"75"},{gamma:"1"}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text",stylers:[{color:"#c8c8c8"},{lightness:"-5"},{gamma:"1.00"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{lightness:50},{hue:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"off"},{lightness:"50"}]},{featureType:"water",elementType:"all",stylers:[{color:"#58afc2"},{lightness:"50"},{gamma:"1.00"}]}],client_location=new google.maps.LatLng(41.890611,-87.624716),map=new google.maps.Map(document.getElementById("google-map"),{center:{lat:41.8925,lng:-87.624716},zoom:16,styles:map_styles,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,keyboardShortcuts:!1,scrollwheel:!1}),marker_image={url:"assets/images/map_marker.png",scaledSize:new google.maps.Size(35,35)},marker=new google.maps.Marker({position:client_location,map:map,icon:marker_image}),infoWindow=new google.maps.InfoWindow({content:'<div style="text-align:left; line-height: 20px;"><span style="font-weight:bold;">Civilian</span><br>444 North Michigan Avenue <br>33rd Floor Chicago, IL 60611 <br>312.822.1100</div>'});google.maps.event.addListener(marker,"mouseover",function(){infoWindow.open(map,marker)}),google.maps.event.addListener(marker,"mouseout",function(){infoWindow.close()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=function(){function e(e,n){this.defaults={slideDuration:"3000",speed:500,arrowRight:".arrow-right",arrowLeft:".arrow-left"},this.settings=t.extend({},this,this.defaults,n),this.initials={currSlide:0,$currSlide:null,totalSlides:!1,csstransitions:!1},t.extend(this,this.initials),this.$el=t(e),this.changeSlide=t.proxy(this.changeSlide,this),this.init(),this.instanceUid=i++}var i=0;return e}();e.prototype.init=function(){this.csstransitionsTest(),this.$el.addClass("zippy-carousel"),this.build(),this.events(),this.activate(),this.initTimer()},e.prototype.csstransitionsTest=function(){var t=document.createElement("modernizr"),e=["transition","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in e){var n=e[i],o=void 0!==t.style[n]?n:!1;if(o){this.csstransitions=o;break}}},e.prototype.addCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=t.settings.speed+"ms"})},e.prototype.removeCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=""})},e.prototype.build=function(){var t=this.$el.append('<ul class="indicators" >').find(".indicators");this.totalSlides=this.$el.find(".slide").length;for(var e=0;e<this.totalSlides;e++)t.append("<li data-index="+e+">")},e.prototype.activate=function(){this.$currSlide=this.$el.find(".slide").eq(0),this.$el.find(".indicators li").eq(0).addClass("active")},e.prototype.events=function(){t("body").on("click",this.settings.arrowRight,{direction:"right"},this.changeSlide).on("click",this.settings.arrowLeft,{direction:"left"},this.changeSlide).on("click",".indicators li",this.changeSlide)},e.prototype.clearTimer=function(){this.timer&&clearInterval(this.timer)},e.prototype.initTimer=function(){this.timer=setInterval(this.changeSlide,this.settings.slideDuration)},e.prototype.startTimer=function(){this.initTimer(),this.throttle=!1},e.prototype.changeSlide=function(t){if(!this.throttle){this.throttle=!0,this.clearTimer();var e=this._direction(t),i=this._next(t,e);if(i){var n=this.$el.find(".slide").eq(this.currSlide).addClass(e+" active");this.csstransitions?this._cssAnimation(n,e):this._jsAnimation(n,e)}}},e.prototype._direction=function(t){var e;return e="undefined"!=typeof t?"undefined"==typeof t.data?"right":t.data.direction:"right"},e.prototype._next=function(e,i){var n="undefined"!=typeof e?t(e.currentTarget).data("index"):void 0;switch(!0){case"undefined"!=typeof n:if(this.currSlide==n)return this.startTimer(),!1;this.currSlide=n;break;case"right"==i&&this.currSlide<this.totalSlides-1:this.currSlide++;break;case"right"==i:this.currSlide=0;break;case"left"==i&&0===this.currSlide:this.currSlide=this.totalSlides-1;break;case"left"==i:this.currSlide--}return!0},e.prototype._cssAnimation=function(t,e){setTimeout(function(){this.$el.addClass("transition"),this.addCSSDuration(),this.$currSlide.addClass("shift-"+e)}.bind(this),100),setTimeout(function(){this.$el.removeClass("transition"),this.removeCSSDuration(),this.$currSlide.removeClass("active shift-left shift-right"),this.$currSlide=t.removeClass(e),this._updateIndicators(),this.startTimer()}.bind(this),100+this.settings.speed)},e.prototype._jsAnimation=function(t,e){var i=this;"right"==e&&i.$currSlide.addClass("js-reset-left");var n={};n[e]="0%";var o={};o[e]="100%",this.$currSlide.animate(o,this.settings.speed),t.animate(n,this.settings.speed,"swing",function(){i.$currSlide.removeClass("active js-reset-left").attr("style",""),i.$currSlide=t.removeClass(e).attr("style",""),i._updateIndicators(),i.startTimer()})},e.prototype._updateIndicators=function(){this.$el.find(".indicators li").removeClass("active").eq(this.currSlide).addClass("active")},t.fn.Zippy=function(t){return this.each(function(i,n){n.Zippy=new e(n,t)})}});var args={arrowRight:".arrow-right",arrowLeft:".arrow-left",speed:1e3,slideDuration:9e3};$(".carousel").Zippy(args);var shuffler=function(){var t;return{start:function(){t=setInterval(function(){var t=$(".flip");$(shuffle(t).slice(0,2)).fadeIn().delay(6e3).fadeOut()},4e3)},stop:function(){clearInterval(t)}}}();$(function(){$("a.reel-button").colorbox({iframe:!0,width:"1600",height:"900",maxWidth:"80%",maxHeight:"80%",close:"X"}),$("ul.cards li").click(function(){var t=300,e=$(this).find(".bigshow"),i=$(this);$(this).siblings().removeClass("open"),$(this).hasClass("open")?($(this).find(".bigshow").removeClass("active"),setTimeout(function(){i.removeClass("open")},t),shuffler.start()):($(this).addClass("open"),setTimeout(function(){e.addClass("active")},t),shuffler.stop())});{var t=400,e=(new Waypoint({element:$(".our-people"),handler:function(t){"down"===t&&scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-people"),handler:function(t){"up"===t&&$("ul.nav-ul-desktop a").removeClass("active")},offset:-2*t}),new Waypoint({element:$(".our-space"),handler:function(){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-work"),handler:function(){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-clients"),handler:function(){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".our-things"),handler:function(){scrollSpy(this.element.attr("id"))},offset:t}),new Waypoint({element:$(".contact-us"),handler:function(){scrollSpy(this.element.attr("id"))},offset:t}),500);new Waypoint({element:$("#red-section-01 .headline-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$("#red-section-02 .headline-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$("#red-section-03 .headline-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$("#red-section-04 .headline-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy1.guy-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy2.guy-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy3.guy-anim"),handler:function(){animateMe(this.element)},offset:e}),new Waypoint({element:$(".guy4.guy-anim"),handler:function(){animateMe(this.element)},offset:e})}$(".our-space .carousel, .our-work").css("height",$(window).height()),$(".menu-btn").click(function(){$(".responsive-menu").toggleClass("expand",1e3,"easeOutCirc"),$(".nav-li-mobile").toggleClass("expand",1e3,"easeOutCirc")}),$(".nav-li-mobile a").click(function(){$(".responsive-menu").toggleClass("expand",1e3,"easeOutCirc"),$(".nav-li-mobile").toggleClass("expand",1e3,"easeOutCirc")}),$(".arrow").on("click",function(){$("#space-text").animate({opacity:0})}),$("header a").click(function(t){t.preventDefault();var e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).position().top})}),shuffler.start()}),function(t,e,i){function n(i,n,o){var r=e.createElement(i);return n&&(r.id=Y+n),o&&(r.style.cssText=o),t(r)}function o(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr("data-cbox-"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==J[e]&&(this.cache[e]=J[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function s(t){var e=k.length,i=(B+t)%e;return 0>i?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?W.width():o())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function h(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in v[0]&&!v[0].contains(t.target)&&t.target!==w[0]&&(t.stopPropagation(),v.focus())}function c(t){c.str!==t&&(v.add(w).removeClass(c.str).addClass(t),c.str=t)}function u(e){B=0,e&&e!==!1&&"nofollow"!==e?(k=t("."+te).filter(function(){var i=t.data(this,V),n=new r(this,i);return n.get("rel")===e}),B=k.index(I.el),-1===B&&(k=k.add(I.el),B=k.length-1)):k=t(I.el)}function p(i){t(e).trigger(i),ae.triggerHandler(i)}function f(i){var o;if(!Z){if(o=t(i).data(V),I=new r(i,o),u(I.get("rel")),!K){K=N=!0,c(I.get("className")),v.css({visibility:"hidden",display:"block",opacity:""}),A=n(le,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(A),D=T.height()+$.height()+b.outerHeight(!0)-b.height(),j=S.width()+C.width()+b.outerWidth(!0)-b.width(),q=A.outerHeight(!0),F=A.outerWidth(!0);var s=a(I.get("initialWidth"),"x"),l=a(I.get("initialHeight"),"y"),h=I.get("maxWidth"),f=I.get("maxHeight");I.w=(h!==!1?Math.min(s,a(h,"x")):s)-F-j,I.h=(f!==!1?Math.min(l,a(f,"y")):l)-q-D,A.css({width:"",height:I.h}),G.position(),p(ee),I.get("onOpen"),R.add(E).hide(),v.focus(),I.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),ae.one(re,function(){e.removeEventListener("focus",d,!0)})),I.get("returnFocus")&&ae.one(re,function(){t(I.el).focus()})}var g=parseFloat(I.get("opacity"));w.css({opacity:g===g?g:"",cursor:I.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),I.get("closeButton")?P.html(I.get("close")).appendTo(b):P.appendTo("<div/>"),y()}}function g(){v||(X=!1,W=t(i),v=n(le).attr({id:V,"class":t.support.opacity===!1?Y+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=n(le,"Overlay").hide(),z=t([n(le,"LoadingOverlay")[0],n(le,"LoadingGraphic")[0]]),x=n(le,"Wrapper"),b=n(le,"Content").append(E=n(le,"Title"),M=n(le,"Current"),L=t('<button type="button"/>').attr({id:Y+"Previous"}),O=t('<button type="button"/>').attr({id:Y+"Next"}),_=n("button","Slideshow"),z),P=t('<button type="button"/>').attr({id:Y+"Close"}),x.append(n(le).append(n(le,"TopLeft"),T=n(le,"TopCenter"),n(le,"TopRight")),n(le,!1,"clear:left").append(S=n(le,"MiddleLeft"),b,C=n(le,"MiddleRight")),n(le,!1,"clear:left").append(n(le,"BottomLeft"),$=n(le,"BottomCenter"),n(le,"BottomRight"))).find("div div").css({"float":"left"}),H=n(le,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),R=O.add(L).add(M).add(_)),e.body&&!v.parent().length&&t(e.body).append(w,v.append(x,H))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return v?(X||(X=!0,O.click(function(){G.next()}),L.click(function(){G.prev()}),P.click(function(){G.close()}),w.click(function(){I.get("overlayClose")&&G.close()}),t(e).bind("keydown."+Y,function(t){var e=t.keyCode;K&&I.get("escKey")&&27===e&&(t.preventDefault(),G.close()),K&&I.get("arrowKey")&&k[1]&&!t.altKey&&(37===e?(t.preventDefault(),L.click()):39===e&&(t.preventDefault(),O.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Y,"."+te,i):t("."+te).live("click."+Y,i)),!0):!1}function y(){var e,o,r,s=G.prep,d=++he;if(N=!0,Q=!1,p(se),p(ie),I.get("onLoad"),I.h=I.get("height")?a(I.get("height"),"y")-q-D:I.get("innerHeight")&&a(I.get("innerHeight"),"y"),I.w=I.get("width")?a(I.get("width"),"x")-F-j:I.get("innerWidth")&&a(I.get("innerWidth"),"x"),I.mw=I.w,I.mh=I.h,I.get("maxWidth")&&(I.mw=a(I.get("maxWidth"),"x")-F-j,I.mw=I.w&&I.w<I.mw?I.w:I.mw),I.get("maxHeight")&&(I.mh=a(I.get("maxHeight"),"y")-q-D,I.mh=I.h&&I.h<I.mh?I.h:I.mh),e=I.get("href"),U=setTimeout(function(){z.show()},100),I.get("inline")){var c=t(e);r=t("<div>").hide().insertBefore(c),ae.one(se,function(){r.replaceWith(c)}),s(c)}else I.get("iframe")?s(" "):I.get("html")?s(I.get("html")):l(I,e)?(e=h(I,e),Q=new Image,t(Q).addClass(Y+"Photo").bind("error",function(){s(n(le,"Error").html(I.get("imgError")))}).one("load",function(){d===he&&setTimeout(function(){var e;t.each(["alt","longdesc","aria-describedby"],function(e,i){var n=t(I.el).attr(i)||t(I.el).attr("data-"+i);n&&Q.setAttribute(i,n)}),I.get("retinaImage")&&i.devicePixelRatio>1&&(Q.height=Q.height/i.devicePixelRatio,Q.width=Q.width/i.devicePixelRatio),I.get("scalePhotos")&&(o=function(){Q.height-=Q.height*e,Q.width-=Q.width*e},I.mw&&Q.width>I.mw&&(e=(Q.width-I.mw)/Q.width,o()),I.mh&&Q.height>I.mh&&(e=(Q.height-I.mh)/Q.height,o())),I.h&&(Q.style.marginTop=Math.max(I.mh-Q.height,0)/2+"px"),k[1]&&(I.get("loop")||k[B+1])&&(Q.style.cursor="pointer",Q.onclick=function(){G.next()}),Q.style.width=Q.width+"px",Q.style.height=Q.height+"px",s(Q)},1)}),Q.src=e):e&&H.load(e,I.get("data"),function(e,i){d===he&&s("error"===i?n(le,"Error").html(I.get("xhrError")):t(this).contents())})}var w,v,x,b,T,S,C,$,k,W,A,H,z,E,M,_,O,L,P,R,I,D,j,q,F,B,Q,K,N,Z,U,G,X,J={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},V="colorbox",Y="cbox",te=Y+"Element",ee=Y+"_open",ie=Y+"_load",ne=Y+"_complete",oe=Y+"_cleanup",re=Y+"_closed",se=Y+"_purge",ae=t("<a/>"),le="div",he=0,de={},ce=function(){function t(){clearTimeout(s)}function e(){(I.get("loop")||k[B+1])&&(t(),s=setTimeout(G.next,I.get("slideshowSpeed")))}function i(){_.html(I.get("slideshowStop")).unbind(l).one(l,n),ae.bind(ne,e).bind(ie,t),v.removeClass(a+"off").addClass(a+"on")}function n(){t(),ae.unbind(ne,e).unbind(ie,t),_.html(I.get("slideshowStart")).unbind(l).one(l,function(){G.next(),i()}),v.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,_.hide(),t(),ae.unbind(ne,e).unbind(ie,t),v.removeClass(a+"off "+a+"on")}var r,s,a=Y+"Slideshow_",l="click."+Y;return function(){r?I.get("slideshow")||(ae.unbind(oe,o),o()):I.get("slideshow")&&k[1]&&(r=!0,ae.one(oe,o),I.get("slideshowAuto")?i():n(),_.show())}}();t[V]||(t(g),G=t.fn[V]=t[V]=function(e,i){var n,o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(g(),m()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,V)||{};t.data(this,V,t.extend(i,e))}).addClass(te),n=new r(o[0],e),n.get("open")&&f(o[0])),o):o},G.position=function(e,i){function n(){T[0].style.width=$[0].style.width=b[0].style.width=parseInt(v[0].style.width,10)-j+"px",b[0].style.height=S[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-D+"px"}var r,s,l,h=0,d=0,c=v.offset();if(W.unbind("resize."+Y),v.css({top:-9e4,left:-9e4}),s=W.scrollTop(),l=W.scrollLeft(),I.get("fixed")?(c.top-=s,c.left-=l,v.css({position:"fixed"})):(h=s,d=l,v.css({position:"absolute"})),d+=I.get("right")!==!1?Math.max(W.width()-I.w-F-j-a(I.get("right"),"x"),0):I.get("left")!==!1?a(I.get("left"),"x"):Math.round(Math.max(W.width()-I.w-F-j,0)/2),h+=I.get("bottom")!==!1?Math.max(o()-I.h-q-D-a(I.get("bottom"),"y"),0):I.get("top")!==!1?a(I.get("top"),"y"):Math.round(Math.max(o()-I.h-q-D,0)/2),v.css({top:c.top,left:c.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",r={width:I.w+F+j,height:I.h+q+D,top:h,left:d},e){var u=0;t.each(r,function(t){return r[t]!==de[t]?void(u=e):void 0}),e=u}de=r,e||v.css(r),v.dequeue().animate(r,{duration:e||0,complete:function(){n(),N=!1,x[0].style.width=I.w+F+j+"px",x[0].style.height=I.h+q+D+"px",I.get("reposition")&&setTimeout(function(){W.bind("resize."+Y,G.position)},1),t.isFunction(i)&&i()},step:n})},G.resize=function(t){var e;K&&(t=t||{},t.width&&(I.w=a(t.width,"x")-F-j),t.innerWidth&&(I.w=a(t.innerWidth,"x")),A.css({width:I.w}),t.height&&(I.h=a(t.height,"y")-q-D),t.innerHeight&&(I.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=A.scrollTop(),A.css({height:"auto"}),I.h=A.height()),A.css({height:I.h}),e&&A.scrollTop(e),G.position("none"===I.get("transition")?0:I.get("speed")))},G.prep=function(i){function o(){return I.w=I.w||A.width(),I.w=I.mw&&I.mw<I.w?I.mw:I.w,I.w}function a(){return I.h=I.h||A.height(),I.h=I.mh&&I.mh<I.h?I.mh:I.h,I.h}if(K){var d,u="none"===I.get("transition")?0:I.get("speed");A.remove(),A=n(le,"LoadedContent").append(i),A.hide().appendTo(H.show()).css({width:o(),overflow:I.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(b),H.hide(),t(Q).css({"float":"none"}),c(I.get("className")),d=function(){function i(){t.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,o,a=k.length;K&&(o=function(){clearTimeout(U),z.hide(),p(ne),I.get("onComplete")},E.html(I.get("title")).show(),A.show(),a>1?("string"==typeof I.get("current")&&M.html(I.get("current").replace("{current}",B+1).replace("{total}",a)).show(),O[I.get("loop")||a-1>B?"show":"hide"]().html(I.get("next")),L[I.get("loop")||B?"show":"hide"]().html(I.get("previous")),ce(),I.get("preloading")&&t.each([s(-1),s(1)],function(){var i,n=k[this],o=new r(n,t.data(n,V)),s=o.get("href");s&&l(o,s)&&(s=h(o,s),i=e.createElement("img"),i.src=s)})):R.hide(),I.get("iframe")?(n=e.createElement("iframe"),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),I.get("scrolling")||(n.scrolling="no"),t(n).attr({src:I.get("href"),name:(new Date).getTime(),"class":Y+"Iframe",allowFullScreen:!0}).one("load",o).appendTo(A),ae.one(se,function(){n.src="//about:blank"}),I.get("fastIframe")&&t(n).trigger("load")):o(),"fade"===I.get("transition")?v.fadeTo(u,1,i):i())},"fade"===I.get("transition")?v.fadeTo(u,0,function(){G.position(0,d)}):G.position(u,d)}},G.next=function(){!N&&k[1]&&(I.get("loop")||k[B+1])&&(B=s(1),f(k[B]))},G.prev=function(){!N&&k[1]&&(I.get("loop")||B)&&(B=s(-1),f(k[B]))},G.close=function(){K&&!Z&&(Z=!0,K=!1,p(oe),I.get("onCleanup"),W.unbind("."+Y),w.fadeTo(I.get("fadeOut")||0,0),v.stop().fadeTo(I.get("fadeOut")||0,0,function(){v.hide(),w.hide(),p(se),A.remove(),setTimeout(function(){Z=!1,p(re),I.get("onClosed")},1)}))},G.remove=function(){v&&(v.stop(),t[V].close(),v.stop(!1,!0).remove(),w.remove(),Z=!1,v=null,t("."+te).removeData(V).removeClass(te),t(e).unbind("click."+Y).unbind("keydown."+Y))},G.element=function(){return t(I.el)},G.settings=J)}(jQuery,document,window),function(){"use strict";function t(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.destroyAll=function(){var t=[];for(var e in i)t.push(i[e]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t,s=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,r(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,r(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=n.oldScroll<a.triggerPoint,h=n.newScroll>=a.triggerPoint,d=l&&h,c=!l&&!h;(d||c)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element===this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element===this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element===this.element.window,i=this.adapter.offset(),n={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in t){var r=t[o];for(var s in this.waypoints[o]){var a,l,h,d,c,u=this.waypoints[o][s],p=u.options.offset,f=u.triggerPoint,g=0,m=null==f;u.element!==u.element.window&&(g=u.adapter.offset()[r.offsetProp]),"function"==typeof p?p=p.apply(u):"string"==typeof p&&(p=parseFloat(p),u.options.offset.indexOf("%")>-1&&(p=Math.ceil(r.contextDimension*p/100))),a=r.contextScroll-r.contextOffset,u.triggerPoint=g+a-p,l=f<r.oldScroll,h=u.triggerPoint>=r.oldScroll,d=l&&h,c=!l&&!h,!m&&d?(u.queueTrigger(r.backward),n[u.group.id]=u.group):!m&&c?(u.queueTrigger(r.forward),n[u.group.id]=u.group):m&&r.oldScroll>=u.triggerPoint&&(u.queueTrigger(r.forward),n[u.group.id]=u.group)}}for(var y in n)n[y].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){s&&s(),e.refreshAll()},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?e:t);for(var r=0,s=n.length;s>r;r+=1){var a=n[r];(a.options.continuous||r===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,n){t[n]=e[n]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&(n=t.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var o=t.extend({},n,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),i.push(new e(o))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();